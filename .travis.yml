language: elixir

branches:
  only:
    - "master"

env:
  - MIX_DO=test

matrix:
  include:
    - elixir: 1.4
      otp_release: 19.3
    - elixir: 1.5
      otp_release: 19.3
    - elixir: 1.6
      otp_release: 19.3
    - elixir: 1.7
      otp_release: 21.0
      env: MIX_DO="format --check-formatted, coveralls.travis"

script:
  - MIX_ENV=test mix do $MIX_DO

cache:
  directories:
  - $HOME/.mix/archives
